{"code":"(this[\"webpackJsonpmy-app\"]=this[\"webpackJsonpmy-app\"]||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},44:function(e,t,n){\"use strict\";n.r(t);var c=n(2),a=n.n(c),r=n(23),o=n.n(r),s=(n(31),n(32),n(5)),i=n(8),l=n(1),u={backgroundColor:\"#333\",color:\"white\"},d=Object(c.createContext)(u),j=function(e){var t=Object(c.useReducer)(b,u),n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(l.jsx)(d.Provider,{value:Object(s.a)(Object(s.a)({},a),{},{dispatch:r}),children:e.children})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"CHANGE_THEME\":return\"black\"===e.backgroundColor?{backgroundColor:\"white\",color:\"black\"}:u;default:return Object(s.a)({},e)}},O=n(6),h=Object(O.f)((function(e){var t=Object(c.useContext)(d).backgroundColor;return Object(l.jsxs)(\"div\",{style:{width:\"100%\",backgroundColor:t,display:\"flex\"},children:[Object(l.jsx)(\"div\",{className:\"image-container\"}),Object(l.jsx)(\"button\",{onClick:function(){return e.history.push(\"/chatRoom\")},children:\"Start\"})]})})),f=n(26),p={messages:[],receiver:{name:\"\",userName:\"\",userID:\"\"},messagesDocPath:\"\"},g=Object(c.createContext)(p),m=function(e){var t=Object(c.useReducer)(x,p),n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(l.jsx)(g.Provider,{value:Object(s.a)(Object(s.a)({},a),{},{dispatch:r}),children:e.children})},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"SET_RECEIVER_DETAILS\":return Object(s.a)(Object(s.a)({},e),{},{receiver:{name:t.payload.name,userName:t.payload.userName,userID:t.payload.userID}});case\"SET_MESSAGE_DOC_URL\":return Object(s.a)(Object(s.a)({},e),{},{messagesDocPath:t.payload.path});default:return Object(s.a)({},e)}},v={name:\"\",loggedInTime:\"\",userStatus:\"Offline\",loginStatus:\"\",userID:\"\"},y=Object(c.createContext)(v),S=function(e){var t=Object(c.useReducer)(C,v),n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(l.jsx)(y.Provider,{value:Object(s.a)(Object(s.a)({},a),{},{dispatch:r}),children:e.children})},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"CHANGE_LOGIN_STATUS\":return Object(s.a)(Object(s.a)({},v),{},{userStatus:\"Online\"});case\"USER_LOGIN\":return Object(s.a)(Object(s.a)({},v),{},{name:t.payload.name,loggedInTime:t.payload.loggedInTime,userStatus:t.payload.userStatus,loginStatus:t.payload.loginStatus,userID:t.payload.userID});default:return Object(s.a)({},e)}},E=n(12),I=function(){var e=Object(c.useContext)(g),t=e.receiver,n=(t.userID,t.userName),a=e.messagesDocPath,r=Object(c.useContext)(y),o=r.name,s=r.userID,u=Object(c.useState)([]),d=Object(i.a)(u,2),j=d[0],b=d[1],O=Object(c.useState)(\"\"),h=Object(i.a)(O,2),f=h[0],p=h[1],m=E.a.firestore();Object(c.useEffect)((function(){console.log(\"messagesDocPath \",a),a&&(m.collection(a).get().then((function(e){var t=e.docs.map((function(e){return e.data()}));b(t),console.log(\"Receiver messages \",t)})).catch((function(e){return console.log(\"Oops \",e)})),m.collection(a).orderBy(\"time\",\"asc\").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));b(t)})))}),[m,a]);var x=function(){m.collection(a).add({message:f,time:new Date,user:s}).then((function(e){console.log(\"Document written with ID: \",e.id)})).catch((function(e){console.error(\"Error adding document: \",e)}))};return Object(l.jsxs)(\"div\",{children:[Object(l.jsx)(\"h3\",{children:\"DM  \"}),Object(l.jsx)(\"div\",{className:\"chat-box\",children:!!j.length&&j.map((function(e,t){return Object(l.jsxs)(\"p\",{className:e.user===s?\"profile right\":\"profile left\",children:[e.user===s?\"\".concat(e.message,\" <- \").concat(o):\"\".concat(n,\" -> \").concat(e.message),\"  \"]},t)}))}),o&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(\"input\",{type:\"text\",value:f,onChange:function(e){return p(e.target.value)},onKeyPress:function(e){return\"Enter\"===e.key&&x()}}),Object(l.jsxs)(\"button\",{onClick:x,children:[\"Send =\",\">\"]})]})]})},D=Object(O.f)((function(e){var t=E.a.firestore(),n=Object(c.useContext)(g).dispatch,a=Object(c.useContext)(y),r=a.name,o=a.userID,u=Object(c.useState)([]),d=Object(i.a)(u,2),j=d[0],b=d[1];Object(c.useEffect)((function(){t.collection(\"users\").get().then((function(e){var t=e.docs.map((function(e){return Object(s.a)(Object(s.a)({},e.data()),{},{id:e.id})}));b(t)})).catch((function(e){return console.log(\"Oops \",e)}))}),[t]);return Object(l.jsxs)(\"div\",{children:[Object(l.jsxs)(\"h1\",{children:[\"Welcome to chatroom \",r]}),Object(l.jsxs)(\"div\",{children:[Object(l.jsx)(\"h3\",{children:Object(l.jsx)(\"ul\",{children:\"pick a contact u gotta talk\"})}),Object(l.jsx)(\"div\",{children:j.map((function(e,c){return Object(l.jsx)(\"p\",{onClick:function(c){return a=e,t.collection(\"users\").doc(o).collection(\"conversations\").doc(a.id).get().then((function(e){var c=e.data();if(e.exists&&c.reference)n({type:\"SET_MESSAGE_DOC_URL\",payload:{path:c.url}});else{var r=\"/users/\"+o+\"/conversations/\"+a.id+\"/messages\";t.collection(\"users\").doc(a.id).collection(\"conversations\").doc(o).set({reference:!0,url:r}),n({type:\"SET_MESSAGE_DOC_URL\",payload:{path:r}})}})).catch((function(e){return console.log(\"err \",e)})),void n({type:\"SET_RECEIVER_DETAILS\",payload:{name:a.name,userName:a.name,userID:a.id}});var a},children:e.name},c)}))})]})]})})),_=function(){return Object(l.jsx)(\"div\",{children:Object(l.jsxs)(m,{children:[Object(l.jsx)(D,{}),Object(l.jsx)(I,{})]})})},k=(n(38),function(e){return Object(l.jsxs)(\"div\",{className:\"form__group field\",children:[Object(l.jsx)(\"input\",Object(s.a)(Object(s.a)({},e),{},{autoComplete:\"off\",type:\"input\",className:\"form__field\"})),Object(l.jsx)(\"label\",{htmlFor:\"name\",className:\"form__label\",children:e.placeholder})]})}),w=function(){var e=Object(c.useContext)(y),t=e.loginStatus,n=e.dispatch,a=e.name,r=Object(c.useState)(\"\"),o=Object(i.a)(r,2),s=o[0],u=o[1],d=Object(c.useState)(\"\"),j=Object(i.a)(d,2),b=j[0],O=j[1],h=E.a.firestore();return t?Object(l.jsx)(\"h3\",{children:a}):Object(l.jsx)(\"div\",{children:Object(l.jsxs)(\"div\",{children:[Object(l.jsx)(\"h3\",{children:\"Lets login\"}),Object(l.jsx)(k,{placeholder:\"Enter userID\",value:s,onChange:function(e){return u(e.target.value)}}),Object(l.jsx)(k,{placeholder:\"Enter password\",value:b,onChange:function(e){return O(e.target.value)},onKeyPress:function(e){return\"Enter\"===e.key&&(e.target.value,void h.collection(\"users\").doc(s).get().then((function(e){var t=e.data();console.log(\"messages list \",t),n({type:\"USER_LOGIN\",payload:{name:t.name,loggedInTime:new Date,userStatus:\"Online\",loginStatus:\"Logged in\",userID:s}})})).catch((function(e){return console.log(\"Oops \",e)})))}})]})})},N=(n(39),function(e){return Object(l.jsx)(\"div\",Object(s.a)(Object(s.a)({},e),{},{onClickCapture:function(e){return function(e){var t=document.createElement(\"div\"),n=e.nativeEvent.layerX,c=e.nativeEvent.layerY;t.classList.add(\"circle\"),t.style.left=\"\".concat(n,\"px\"),t.style.top=\"\".concat(c,\"px\"),e.target.appendChild(t)}(e)},className:\"form_button\",children:e.label}))}),T=(n(40),function(){var e=Object(c.useState)(\"\"),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(\"\"),o=Object(i.a)(r,2),s=o[0],u=o[1];return Object(l.jsxs)(\"div\",{children:[Object(l.jsx)(\"h1\",{children:\"Register user\"}),Object(l.jsx)(k,{type:\"text\",placeholder:\"Name\",value:n,onChange:function(e){return a(e.target.value)}}),Object(l.jsx)(k,{type:\"text\",placeholder:\"Password\",value:s,onChange:function(e){return u(e.target.value)}}),Object(l.jsx)(\"div\",{className:\"new-user__add__wrapper\",children:Object(l.jsx)(N,{label:\"Add me\",onClick:function(){console.log(\"rest \"),E.a.firestore().collection(\"users\").add({name:n,password:s}).then((function(e){console.log(\"Document written with ID: \",e.id)})).catch((function(e){console.error(\"Error adding document: \",e)}))}})}),Object(l.jsx)(\"a\",{href:\"/\",style:{fontSize:\"22px\",display:\"inline\"},children:\"Back\"})]})}),R=function(e){if(Object(c.useContext)(y).name)return Object(l.jsx)(l.Fragment,{children:e.children})};var L=function(){return Object(l.jsx)(j,{children:Object(l.jsxs)(S,{children:[Object(l.jsx)(w,{}),Object(l.jsx)(f.a,{children:Object(l.jsxs)(O.c,{children:[Object(l.jsx)(O.a,{path:\"/chatRoom\",children:Object(l.jsx)(_,{})}),Object(l.jsx)(O.a,{path:\"/newUser\",children:Object(l.jsx)(T,{})}),Object(l.jsx)(O.a,{path:\"/login\",children:Object(l.jsxs)(R,{children:[\" \",Object(l.jsx)(w,{})]})}),Object(l.jsx)(O.a,{path:\"/\",children:Object(l.jsxs)(R,{children:[\" \",Object(l.jsx)(h,{})]})})]})})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};n(45),n(41),n(46);E.a.initializeApp({apiKey:\"AIzaSyAn3dbtc6VJ7keVicMn1i5ez2s_Jt1qbbE\",authDomain:\"friendlyeats-c47ae.firebaseapp.com\",projectId:\"friendlyeats-c47ae\",storageBucket:\"friendlyeats-c47ae.appspot.com\",messagingSenderId:\"989542196587\",appId:\"1:989542196587:web:63896b071fdfab8d66982e\",measurementId:\"G-6LXZLGGTXT\"}),E.a.analytics(),E.a.auth().signInAnonymously().then((function(e){return console.log(\"Firebase signed in \",e)})),o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(L,{})}),document.getElementById(\"root\")),A()}},[[44,1,2]]]);","name":"static/js/main.eabcaf0b.chunk.js","map":{"version":3,"sources":["static/js/main.eabcaf0b.chunk.js"],"names":["this","push","31","module","exports","__webpack_require__","32","38","39","40","44","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","slicedToArray","jsx_runtime","initialTheme","backgroundColor","color","ThemeContext","Object","themeContext_ThemeProvider","props","_useReducer","themeContext_themeReducer","_useReducer2","state","dispatch","Provider","value","children","arguments","length","undefined","action","type","react_router","home","style","width","display","className","onClick","history","react_router_dom","initialMessages","messages","receiver","name","userName","userID","messagesDocPath","MessageContext","messageContext_MessageProvider","messageContext_messageReducer","payload","path","initialUserProfile","loggedInTime","userStatus","loginStatus","UserProfileContext","userContext_UserProfileProvider","userContext_userProfileReducer","index_esm","chatBox","_useContext","_useContext$receiver","receiverName","_useContext2","_useState","_useState2","messageList","setMessageList","_useState3","_useState4","messageText","setMessageText","db","firestore","console","log","collection","get","then","querySnapshot","result","docs","map","doc","data","catch","err","orderBy","onSnapshot","sendMessage","add","message","time","Date","user","docRef","id","error","el","i","concat","onChange","e","target","onKeyPress","key","chatList","userList","setUserList","receiverMessageFields","exists","reference","url","docURL","set","chat","UIControls_TextInput_TextInput","autoComplete","htmlFor","placeholder","login_Login","setuserID","password","setPassword","UIControls_Button_Button","onClickCapture","event","circle","document","createElement","x","nativeEvent","layerX","y","layerY","classList","left","top","appendChild","materializeEffect","label","newUser_newUser","setUserName","href","fontSize","login_RouteProtector","src_App","src_reportWebVitals","onPerfEntry","Function","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","auth","signInAnonymously","res","a","render","StrictMode","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpmy-app\"] = this[\"webpackJsonpmy-app\"] || []).push([[0],{\n\n/***/ 31:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(23);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(31);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/store/themeContext.js\nvar initialTheme={backgroundColor:\"#333\",color:\"white\"};var ThemeContext=/*#__PURE__*/Object(react[\"createContext\"])(initialTheme);var themeContext_ThemeProvider=function ThemeProvider(props){var _useReducer=Object(react[\"useReducer\"])(themeContext_themeReducer,initialTheme),_useReducer2=Object(slicedToArray[\"a\" /* default */])(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ThemeContext.Provider,{value:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{dispatch:dispatch}),children:props.children});};var themeContext_themeReducer=function themeReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialTheme;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'CHANGE_THEME':{if(state.backgroundColor==='black')return{backgroundColor:\"white\",color:\"black\"};return initialTheme;}default:return Object(objectSpread2[\"a\" /* default */])({},state);}};\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js + 4 modules\nvar react_router = __webpack_require__(6);\n\n// CONCATENATED MODULE: ./src/components/home/index.js\n// import firebase from \"firebase/app\";\nvar home_HomeComponent=function HomeComponent(props){var _useContext=Object(react[\"useContext\"])(ThemeContext),backgroundColor=_useContext.backgroundColor;// const add = () => {\n//     var db = firebase.firestore()\n//     db.collection(\"text\").add({\n//         first: \"Ada\",\n//         last: \"Lovelace\",\n//         born: 1815\n//     })\n//     .then((docRef) => {\n//         console.log(\"Document written with ID: \", docRef.id);\n//     })\n//     .catch((error) => {\n//         console.error(\"Error adding document: \", error);\n//     });\n// }\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{width:'100%',backgroundColor:backgroundColor,display:'flex'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"image-container\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return props.history.push('/chatRoom');},children:\"Start\"})]});};/* harmony default export */ var home = (Object(react_router[\"f\" /* withRouter */])(home_HomeComponent));\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js + 4 modules\nvar react_router_dom = __webpack_require__(26);\n\n// CONCATENATED MODULE: ./src/store/messageContext.js\nvar initialMessages={messages:[],receiver:{name:'',userName:'',userID:''},messagesDocPath:''};var MessageContext=/*#__PURE__*/Object(react[\"createContext\"])(initialMessages);var messageContext_MessageProvider=function MessageProvider(props){var _useReducer=Object(react[\"useReducer\"])(messageContext_messageReducer,initialMessages),_useReducer2=Object(slicedToArray[\"a\" /* default */])(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// console.log('dispatch ',dispatch)\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MessageContext.Provider,{value:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{dispatch:dispatch}),children:props.children});};var messageContext_messageReducer=function messageReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialMessages;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'SET_RECEIVER_DETAILS':{return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{receiver:{name:action.payload.name,userName:action.payload.userName,userID:action.payload.userID}});}case'SET_MESSAGE_DOC_URL':{return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{messagesDocPath:action.payload.path});}default:return Object(objectSpread2[\"a\" /* default */])({},state);}};\n// CONCATENATED MODULE: ./src/store/userContext.js\nvar initialUserProfile={name:\"\",loggedInTime:\"\",userStatus:\"Offline\",loginStatus:'',userID:''};var UserProfileContext=/*#__PURE__*/Object(react[\"createContext\"])(initialUserProfile);var userContext_UserProfileProvider=function UserProfileProvider(props){var _useReducer=Object(react[\"useReducer\"])(userContext_userProfileReducer,initialUserProfile),_useReducer2=Object(slicedToArray[\"a\" /* default */])(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileContext.Provider,{value:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{dispatch:dispatch}),children:props.children});};var userContext_userProfileReducer=function userProfileReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialUserProfile;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'CHANGE_LOGIN_STATUS':{return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},initialUserProfile),{},{userStatus:\"Online\"});}case'USER_LOGIN':{return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},initialUserProfile),{},{name:action.payload.name,loggedInTime:action.payload.loggedInTime,userStatus:action.payload.userStatus,loginStatus:action.payload.loginStatus,userID:action.payload.userID});}default:return Object(objectSpread2[\"a\" /* default */])({},state);}};\n// EXTERNAL MODULE: ./node_modules/firebase/app/dist/index.esm.js\nvar index_esm = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./src/components/chat/chatBox.js\nvar chatBox_ChatBox=function ChatBox(){var _useContext=Object(react[\"useContext\"])(MessageContext),_useContext$receiver=_useContext.receiver,receiverUserID=_useContext$receiver.userID,receiverName=_useContext$receiver.userName,messagesDocPath=_useContext.messagesDocPath;var _useContext2=Object(react[\"useContext\"])(UserProfileContext),userName=_useContext2.name,userID=_useContext2.userID;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),messageList=_useState2[0],setMessageList=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),messageText=_useState4[0],setMessageText=_useState4[1];var db=index_esm[\"a\" /* default */].firestore();Object(react[\"useEffect\"])(function(){// console.log({userID, receiverUserID})\nconsole.log(\"messagesDocPath \",messagesDocPath);if(messagesDocPath){db.collection(messagesDocPath).get().then(function(querySnapshot){var result=querySnapshot.docs.map(function(doc){return doc.data();});setMessageList(result);console.log('Receiver messages ',result);}).catch(function(err){return console.log('Oops ',err);});db.collection(messagesDocPath).orderBy(\"time\",\"asc\").onSnapshot(function(doc){var result=doc.docs.map(function(doc){return doc.data();});setMessageList(result);// console.log('u')\n});}},[db,messagesDocPath]);var sendMessage=function sendMessage(){db.collection(messagesDocPath).add({message:messageText,time:new Date(),//'July 19, 2021 at 12:00:00 AM UTC+5:30'\nuser:userID}).then(function(docRef){console.log(\"Document written with ID: \",docRef.id);}).catch(function(error){console.error(\"Error adding document: \",error);});};// console.log('ChatBox dis', messageProps)\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"DM  \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-box\",children:!!messageList.length&&messageList.map(function(el,i){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:el.user===userID?'profile right':'profile left',children:[el.user===userID?\"\".concat(el.message,\" <- \").concat(userName):\"\".concat(receiverName,\" -> \").concat(el.message),\"  \"]},i);})}),userName&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",value:messageText,onChange:function onChange(e){return setMessageText(e.target.value);},onKeyPress:function onKeyPress(e){return e.key==='Enter'&&sendMessage();}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{onClick:sendMessage,children:[\"Send =\",'>']})]})]});};/* harmony default export */ var chatBox = (chatBox_ChatBox);\n// CONCATENATED MODULE: ./src/components/chat/chatList.js\nvar chatList_ChatList=function ChatList(props){var db=index_esm[\"a\" /* default */].firestore();var _useContext=Object(react[\"useContext\"])(MessageContext),dispatch=_useContext.dispatch;var _useContext2=Object(react[\"useContext\"])(UserProfileContext),userName=_useContext2.name,userID=_useContext2.userID;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userList=_useState2[0],setUserList=_useState2[1];Object(react[\"useEffect\"])(function(){db.collection('users').get().then(function(querySnapshot){var result=querySnapshot.docs.map(function(doc){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},doc.data()),{},{id:doc.id});});setUserList(result);// console.log('users list ', result)\n}).catch(function(err){return console.log('Oops ',err);});},[db]);var setChatRoom=function setChatRoom(receiver){db.collection('users').doc(userID).collection('conversations').doc(receiver.id).get().then(function(querySnapshot){var receiverMessageFields=querySnapshot.data();if(querySnapshot.exists&&receiverMessageFields.reference){// if reference exists use the existing reference\ndispatch({type:'SET_MESSAGE_DOC_URL',payload:{path:receiverMessageFields.url}});}else{// if reference doesnt exist, then create a new document for message with sender's and receiver's user ID\nvar docURL=\"/users/\"+userID+\"/conversations/\"+receiver.id+\"/messages\";// adds reference collection to the receiver end.\ndb.collection('users').doc(receiver.id).collection('conversations').doc(userID).set({reference:true,url:docURL});dispatch({type:'SET_MESSAGE_DOC_URL',payload:{path:docURL}});}}).catch(function(err){return console.log('err ',err);});dispatch({type:'SET_RECEIVER_DETAILS',payload:{name:receiver.name,userName:receiver.name,userID:receiver.id}});};// console.log(userList)\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[\"Welcome to chatroom \",userName]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:\"pick a contact u gotta talk\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:userList.map(function(el,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{onClick:function onClick(e){return setChatRoom(el);},children:el.name},i);})})]})]});};/* harmony default export */ var chatList = (Object(react_router[\"f\" /* withRouter */])(chatList_ChatList));\n// CONCATENATED MODULE: ./src/components/chat/index.js\nvar chat_ChatRoom=function ChatRoom(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(messageContext_MessageProvider,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chatList,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chatBox,{})]})});};/* harmony default export */ var chat = (chat_ChatRoom);\n// EXTERNAL MODULE: ./src/UIControls/TextInput/TextInput.css\nvar TextInput_TextInput = __webpack_require__(38);\n\n// CONCATENATED MODULE: ./src/UIControls/TextInput/TextInput.js\nvar TextInput_TextInput_TextInput=function TextInput(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form__group field\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{autoComplete:\"off\",type:\"input\",className:\"form__field\"})),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"name\",className:\"form__label\",children:props.placeholder})]});};/* harmony default export */ var UIControls_TextInput_TextInput = (TextInput_TextInput_TextInput);\n// CONCATENATED MODULE: ./src/components/login/Login.js\nvar Login_Login=function Login(){var _useContext=Object(react[\"useContext\"])(UserProfileContext),loginStatus=_useContext.loginStatus,dispatch=_useContext.dispatch,name=_useContext.name;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userID=_useState2[0],setuserID=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var db=index_esm[\"a\" /* default */].firestore();var login=function login(){db.collection('users').doc(userID).get().then(function(querySnapshot){var result=querySnapshot.data();// setUserList(result);\nconsole.log('messages list ',result);dispatch({type:'USER_LOGIN',payload:{name:result.name,loggedInTime:new Date(),userStatus:\"Online\",loginStatus:'Logged in',userID:userID}});}).catch(function(err){return console.log('Oops ',err);});};if(!loginStatus){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Lets login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UIControls_TextInput_TextInput,{placeholder:\"Enter userID\",value:userID,onChange:function onChange(e){return setuserID(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UIControls_TextInput_TextInput,{placeholder:\"Enter password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},onKeyPress:function onKeyPress(e){return e.key==='Enter'&&login(e.target.value);}})]})});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:name});};/* harmony default export */ var login_Login = (Login_Login);\n// EXTERNAL MODULE: ./src/UIControls/Button/Button.css\nvar Button_Button = __webpack_require__(39);\n\n// CONCATENATED MODULE: ./src/UIControls/Button/Button.js\nvar Button_Button_Button=function Button(props){function materializeEffect(event){var circle=document.createElement('div');var x=event.nativeEvent.layerX;var y=event.nativeEvent.layerY;circle.classList.add('circle');circle.style.left=\"\".concat(x,\"px\");circle.style.top=\"\".concat(y,\"px\");event.target.appendChild(circle);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{onClickCapture:function onClickCapture(e){return materializeEffect(e);},className:\"form_button\",children:props.label}));};/* harmony default export */ var UIControls_Button_Button = (Button_Button_Button);\n// EXTERNAL MODULE: ./src/components/newUser/newUser.css\nvar newUser = __webpack_require__(40);\n\n// CONCATENATED MODULE: ./src/components/newUser/newUser.js\nvar newUser_NewUser=function NewUser(){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var addUser=function addUser(){debugger;console.log('rest ');var db=index_esm[\"a\" /* default */].firestore();db.collection('users').add({name:userName,password:password}).then(function(docRef){console.log(\"Document written with ID: \",docRef.id);}).catch(function(error){console.error(\"Error adding document: \",error);});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Register user\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UIControls_TextInput_TextInput,{type:\"text\",placeholder:\"Name\",value:userName,onChange:function onChange(e){return setUserName(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UIControls_TextInput_TextInput,{type:\"text\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"new-user__add__wrapper\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UIControls_Button_Button,{label:\"Add me\",onClick:addUser})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/\",style:{fontSize:'22px',display:'inline'},children:\"Back\"})]});};/* harmony default export */ var newUser_newUser = (newUser_NewUser);\n// CONCATENATED MODULE: ./src/components/login/RouteProtector.js\nvar RouteProtector_RouteProtector=function RouteProtector(props){var _useContext=Object(react[\"useContext\"])(UserProfileContext),userName=_useContext.name;if(userName)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:props.children});// return <h1>User not logged in...</h1>\n};/* harmony default export */ var login_RouteProtector = (RouteProtector_RouteProtector);\n// CONCATENATED MODULE: ./src/App.js\n// import logo from './logo.sv  g';\nfunction App_App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(themeContext_ThemeProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(userContext_UserProfileProvider,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(login_Login,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/chatRoom\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chat,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/newUser\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(newUser_newUser,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(login_RouteProtector,{children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(login_Login,{})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(login_RouteProtector,{children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(home,{})]})})]})})]})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 47)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// EXTERNAL MODULE: ./node_modules/firebase/analytics/dist/index.esm.js + 2 modules\nvar dist_index_esm = __webpack_require__(45);\n\n// EXTERNAL MODULE: ./node_modules/firebase/auth/dist/index.esm.js\nvar auth_dist_index_esm = __webpack_require__(41);\n\n// EXTERNAL MODULE: ./node_modules/firebase/firestore/dist/index.esm.js + 1 modules\nvar firestore_dist_index_esm = __webpack_require__(46);\n\n// CONCATENATED MODULE: ./src/index.js\n// const firebase = require(\"firebase\");\n// Required for side-effects\nvar firebaseConfig={apiKey:\"AIzaSyAn3dbtc6VJ7keVicMn1i5ez2s_Jt1qbbE\",authDomain:\"friendlyeats-c47ae.firebaseapp.com\",projectId:\"friendlyeats-c47ae\",storageBucket:\"friendlyeats-c47ae.appspot.com\",messagingSenderId:\"989542196587\",appId:\"1:989542196587:web:63896b071fdfab8d66982e\",measurementId:\"G-6LXZLGGTXT\"};// firebase\n// Initialize Firebase\nindex_esm[\"a\" /* default */].initializeApp(firebaseConfig);index_esm[\"a\" /* default */].analytics();index_esm[\"a\" /* default */].auth().signInAnonymously().then(function(res){return console.log('Firebase signed in ',res);});// var db = firebase.firestore();\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[44,1,2]]]);","inputSourceMap":{"version":3,"sources":["/System/Volumes/Data/Bharath/React/Chat App/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/System/Volumes/Data/Bharath/React/Chat App/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/System/Volumes/Data/Bharath/React/Chat App/node_modules/postcss-loader/src/index.js??postcss!/System/Volumes/Data/Bharath/React/Chat App/src/index.css","/System/Volumes/Data/Bharath/React/Chat App/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/System/Volumes/Data/Bharath/React/Chat App/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/System/Volumes/Data/Bharath/React/Chat App/node_modules/postcss-loader/src/index.js??postcss!/System/Volumes/Data/Bharath/React/Chat App/src/App.css","/System/Volumes/Data/Bharath/React/Chat App/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/System/Volumes/Data/Bharath/React/Chat App/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/System/Volumes/Data/Bharath/React/Chat App/node_modules/postcss-loader/src/index.js??postcss!/System/Volumes/Data/Bharath/React/Chat App/src/UIControls/TextInput/TextInput.css","/System/Volumes/Data/Bharath/React/Chat App/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/System/Volumes/Data/Bharath/React/Chat App/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/System/Volumes/Data/Bharath/React/Chat App/node_modules/postcss-loader/src/index.js??postcss!/System/Volumes/Data/Bharath/React/Chat App/src/UIControls/Button/Button.css","/System/Volumes/Data/Bharath/React/Chat App/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/System/Volumes/Data/Bharath/React/Chat App/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/System/Volumes/Data/Bharath/React/Chat App/node_modules/postcss-loader/src/index.js??postcss!/System/Volumes/Data/Bharath/React/Chat App/src/components/newUser/newUser.css","/System/Volumes/Data/Bharath/React/Chat App/src/store/themeContext.js","/System/Volumes/Data/Bharath/React/Chat App/src/components/home/index.js","/System/Volumes/Data/Bharath/React/Chat App/src/store/messageContext.js","/System/Volumes/Data/Bharath/React/Chat App/src/store/userContext.js","/System/Volumes/Data/Bharath/React/Chat App/src/components/chat/chatBox.js","/System/Volumes/Data/Bharath/React/Chat App/src/components/chat/chatList.js","/System/Volumes/Data/Bharath/React/Chat App/src/components/chat/index.js","/System/Volumes/Data/Bharath/React/Chat App/src/UIControls/TextInput/TextInput.js","/System/Volumes/Data/Bharath/React/Chat App/src/components/login/Login.js","/System/Volumes/Data/Bharath/React/Chat App/src/UIControls/Button/Button.js","/System/Volumes/Data/Bharath/React/Chat App/src/components/newUser/newUser.js","/System/Volumes/Data/Bharath/React/Chat App/src/components/login/RouteProtector.js","/System/Volumes/Data/Bharath/React/Chat App/src/App.js","/System/Volumes/Data/Bharath/React/Chat App/src/reportWebVitals.js","/System/Volumes/Data/Bharath/React/Chat App/src/index.js"],"names":["initialTheme","backgroundColor","color","ThemeContext","createContext","ThemeProvider","props","useReducer","themeReducer","state","dispatch","children","action","type","HomeComponent","useContext","width","display","history","push","withRouter","initialMessages","messages","receiver","name","userName","userID","messagesDocPath","MessageContext","MessageProvider","messageReducer","payload","path","initialUserProfile","loggedInTime","userStatus","loginStatus","UserProfileContext","UserProfileProvider","userProfileReducer","ChatBox","receiverUserID","receiverName","useState","messageList","setMessageList","messageText","setMessageText","db","firebase","firestore","useEffect","console","log","collection","get","then","querySnapshot","result","docs","map","doc","data","catch","err","orderBy","onSnapshot","sendMessage","add","message","time","Date","user","docRef","id","error","length","el","i","e","target","value","key","ChatList","userList","setUserList","setChatRoom","receiverMessageFields","exists","reference","url","docURL","set","ChatRoom","TextInput","placeholder","Login","setuserID","password","setPassword","login","Button","materializeEffect","event","circle","document","createElement","x","nativeEvent","layerX","y","layerY","classList","style","left","top","appendChild","label","NewUser","setUserName","addUser","fontSize","RouteProtector","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","analytics","auth","signInAnonymously","res","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { useReducer } from 'react';\nimport { createContext } from \"react\";\n\nconst initialTheme = {\n    backgroundColor: \"#333\",\n    color: \"white\"\n}\n\nexport const ThemeContext = createContext(initialTheme);\n\n\nexport const ThemeProvider = props => {\n    const [state, dispatch] = useReducer(themeReducer, initialTheme);\n\n    return <ThemeContext.Provider value={{ ...state, dispatch }}>\n        {props.children}\n    </ThemeContext.Provider>;\n}\n\nconst themeReducer = (state = initialTheme, action) => {\n    switch (action.type) {\n        case 'CHANGE_THEME': {\n            if (state.backgroundColor === 'black')\n            return {\n                backgroundColor: \"white\",\n                color: \"black\"\n            }\n            return initialTheme;\n        }\n        default: return { ...state }\n    }\n}","import { useContext } from \"react\";\nimport { ThemeContext } from \"../../store/themeContext\";\n// import firebase from \"firebase/app\";\nimport { withRouter } from \"react-router\";\n\nconst HomeComponent = (props) => {\n    const { backgroundColor } = useContext(ThemeContext);\n\n    // const add = () => {\n    //     var db = firebase.firestore()\n    //     db.collection(\"text\").add({\n    //         first: \"Ada\",\n    //         last: \"Lovelace\",\n    //         born: 1815\n    //     })\n    //     .then((docRef) => {\n    //         console.log(\"Document written with ID: \", docRef.id);\n    //     })\n    //     .catch((error) => {\n    //         console.error(\"Error adding document: \", error);\n    //     });\n    // }\n\n    return <div style={{width: '100%', backgroundColor, display: 'flex' }}>\n        <div className='image-container'>\n            {/* <img className='welcome-image' alt='welcome' src='/assets/images/welcomeImage1.jpeg' /> */}\n        </div>\n        {/* <button onClick={() => dispatch({type: 'CHANGE_THEME'})}>Change</button> */}\n        <button onClick={() => props.history.push('/chatRoom')}>Start</button>\n    </div>\n}\n\nexport default withRouter(HomeComponent);","\nimport { createContext, useReducer } from \"react\";\n\nconst initialMessages = {\n    messages: [],\n    receiver: {\n        name: '',\n        userName: '',\n        userID: ''\n    },\n    messagesDocPath: ''\n}\n\nexport const MessageContext = createContext(initialMessages);\n\n\nexport const MessageProvider = props => {\n    const [state, dispatch] = useReducer(messageReducer, initialMessages);\n    // console.log('dispatch ',dispatch)\n    return <MessageContext.Provider value={{ ...state, dispatch }}>\n        {props.children}\n    </MessageContext.Provider>;\n};\n\nconst messageReducer = (state = initialMessages, action) => {\n    switch (action.type) {\n        case 'SET_RECEIVER_DETAILS': {\n            return {\n                ...state, receiver: {\n                    name: action.payload.name,\n                    userName: action.payload.userName,\n                    userID: action.payload.userID\n                }\n            }\n        }\n        case 'SET_MESSAGE_DOC_URL': {\n            return {\n                ...state, messagesDocPath: action.payload.path\n            }\n        }\n        default: return { ...state };\n    }\n};\n","import React, { useReducer } from 'react';\nimport { createContext } from \"react\";\n\nconst initialUserProfile = {\n    name: \"\",\n    loggedInTime: \"\",\n    userStatus: \"Offline\",\n    loginStatus: '',\n    userID: ''\n}\n\nexport const UserProfileContext = createContext(initialUserProfile);\n\n\nexport const UserProfileProvider = props => {\n    const [state, dispatch] = useReducer(userProfileReducer, initialUserProfile);\n\n    return <UserProfileContext.Provider value={{ ...state, dispatch }}>\n        {props.children}\n    </UserProfileContext.Provider>;\n}\n\nconst userProfileReducer = (state = initialUserProfile, action) => {\n    switch (action.type) {\n        case 'CHANGE_LOGIN_STATUS': {\n            return { ...initialUserProfile, userStatus: \"Online\" };\n        }\n        case 'USER_LOGIN': {\n            return {\n                ...initialUserProfile, \n                name: action.payload.name,\n                loggedInTime: action.payload.loggedInTime,\n                userStatus: action.payload.userStatus,\n                loginStatus: action.payload.loginStatus,\n                userID: action.payload.userID\n            }\n        }\n        default: return { ...state }\n    }\n}","import React, { useContext, useEffect, useState } from 'react';\nimport { UserProfileContext } from '../../store/userContext';\nimport firebase from \"firebase/app\";\nimport { MessageContext } from '../../store/messageContext';\n\nconst ChatBox = () => {\n    const { receiver: { userID: receiverUserID, userName: receiverName }, messagesDocPath } = useContext(MessageContext);\n    const { name: userName, userID } = useContext(UserProfileContext);\n    const [messageList, setMessageList] = useState([]);\n    const [messageText, setMessageText] = useState('');\n    var db = firebase.firestore()\n\n    useEffect(() => {\n        // console.log({userID, receiverUserID})\n        console.log(\"messagesDocPath \", messagesDocPath)\n        if (messagesDocPath) {\n            db.collection(messagesDocPath).get().then((querySnapshot) => {\n                const result = querySnapshot.docs.map(doc => doc.data());\n                setMessageList(result);\n                console.log('Receiver messages ', result)\n            }).catch(err => console.log('Oops ', err))\n\n            db.collection(messagesDocPath).orderBy(\"time\", \"asc\").onSnapshot(doc => {\n                const result = doc.docs.map(doc => doc.data());\n                setMessageList(result);\n                // console.log('u')\n            })\n        }\n\n    }, [db, messagesDocPath]);\n\n\n    const sendMessage = () => {\n        db.collection(messagesDocPath).add({\n            message: messageText,\n            time: new Date(),//'July 19, 2021 at 12:00:00 AM UTC+5:30'\n            user: userID\n        }).then((docRef) => {\n            console.log(\"Document written with ID: \", docRef.id);\n        }).catch((error) => {\n            console.error(\"Error adding document: \", error);\n        });\n    }\n\n    // console.log('ChatBox dis', messageProps)\n    return <div>\n        <h3>DM  </h3>\n        <div className=\"chat-box\">\n            {!!messageList.length && messageList.map((el, i) => <p key={i} className={el.user === userID ? 'profile right' : 'profile left'}>\n                {el.user === userID ? `${el.message} <- ${userName}` : `${receiverName} -> ${el.message}`}  { }\n            </p>)}\n        </div>\n\n        {userName && <>\n            <input type='text' value={messageText} onChange={e => setMessageText(e.target.value)}\n                onKeyPress={e => e.key === 'Enter' && sendMessage()}\n            />\n            <button onClick={sendMessage}>Send ={'>'}</button>\n        </>}\n    </div>\n}\n\nexport default ChatBox;","import React, { useContext, useEffect, useState } from 'react';\nimport firebase from \"firebase/app\";\nimport { withRouter } from \"react-router\";\nimport { UserProfileContext } from '../../store/userContext';\nimport { MessageContext } from '../../store/messageContext';\n\nconst ChatList = props => {\n    var db = firebase.firestore()\n    const { dispatch } = useContext(MessageContext);\n    const { name: userName, userID } = useContext(UserProfileContext);\n    const [userList, setUserList] = useState([]);\n\n    useEffect(() => {\n        db.collection('users').get().then((querySnapshot) => {\n            const result = querySnapshot.docs.map(doc => ({ ...doc.data(), id: doc.id }));\n            setUserList(result);\n            // console.log('users list ', result)\n        }).catch(err => console.log('Oops ', err))\n    }, [db])\n\n\n    const setChatRoom = (receiver) => {\n        db.collection('users').doc(userID).collection('conversations').doc(receiver.id).get().then(querySnapshot => {\n                const receiverMessageFields = querySnapshot.data();\n                if (querySnapshot.exists && receiverMessageFields.reference) { // if reference exists use the existing reference\n                dispatch({\n                    type: 'SET_MESSAGE_DOC_URL',\n                    payload: {\n                        path: receiverMessageFields.url\n                    }\n                })\n            } else { // if reference doesnt exist, then create a new document for message with sender's and receiver's user ID\n                const docURL = \"/users/\" + userID + \"/conversations/\" + receiver.id + \"/messages\";\n                // adds reference collection to the receiver end.\n                db.collection('users').doc(receiver.id).collection('conversations').doc(userID).set({\n                    reference: true,\n                    url: docURL\n                })\n                dispatch({\n                    type: 'SET_MESSAGE_DOC_URL',\n                    payload: {\n                        path: docURL\n                    }\n                })\n            }\n        }).catch(err => console.log('err ', err))\n        dispatch({\n            type: 'SET_RECEIVER_DETAILS',\n            payload: {\n                name: receiver.name,\n                userName: receiver.name,\n                userID: receiver.id\n            }\n        })\n    }\n\n    // console.log(userList)\n\n    return <div>\n        <h1>Welcome to chatroom {userName}</h1>\n        <div>\n            <h3><ul>pick a contact u gotta talk</ul></h3>\n            <div>{userList.map((el, i) => <p key={i} onClick={e => setChatRoom(el)}>{el.name}</p>)}</div>\n        </div>\n    </div>\n}\n\nexport default withRouter(ChatList);","import React from 'react';\nimport { MessageProvider } from '../../store/messageContext';\nimport ChatBox from './chatBox';\nimport ChatList from './chatList';\n\nconst ChatRoom = () => {\n    return <div>\n        <MessageProvider>\n            <ChatList />\n            <ChatBox />\n        </MessageProvider>\n    </div>\n}\n\n\nexport default ChatRoom;","import React from 'react';\nimport './TextInput.css'\nconst TextInput = props => <div className=\"form__group field\">\n    <input {...props} autoComplete=\"off\" type=\"input\" className=\"form__field\" />\n    <label htmlFor=\"name\" className=\"form__label\">{props.placeholder}</label>\n</div>\n\nexport default TextInput;","import React, { useContext, useState } from 'react';\nimport { UserProfileContext } from '../../store/userContext';\nimport firebase from \"firebase/app\";\nimport TextInput from '../../UIControls/TextInput/TextInput';\n\nconst Login = () => {\n    const { loginStatus, dispatch, name } = useContext(UserProfileContext);\n    const [userID, setuserID] = useState('')\n    const [password, setPassword] = useState('')\n    var db = firebase.firestore()\n\n    const login = () => {\n        db.collection('users').doc(userID).get().then((querySnapshot) => {\n            const result = querySnapshot.data();\n            // setUserList(result);\n            console.log('messages list ', result)\n            dispatch({\n                type: 'USER_LOGIN', payload: {\n                    name: result.name,\n                    loggedInTime: new Date(),\n                    userStatus: \"Online\",\n                    loginStatus: 'Logged in',\n                    userID\n                }\n            })\n        }).catch(err => console.log('Oops ', err))\n    }\n\n    if (!loginStatus) {\n        return <div>\n            <div>\n                <h3>Lets login</h3>\n                <TextInput placeholder='Enter userID' value={userID} onChange={e => setuserID(e.target.value)} />\n                <TextInput placeholder='Enter password' value={password} onChange={e => setPassword(e.target.value)}\n                    onKeyPress={e => e.key === 'Enter' && login(e.target.value)}\n                />\n            </div>\n        </div>\n    }\n\n    return <h3>{name}</h3>\n}\n\nexport default Login;","import React from 'react';\nimport './Button.css'\n\nconst Button = props => {\n    function materializeEffect(event) {\n        const circle = document.createElement('div')\n        const x = event.nativeEvent.layerX\n        const y = event.nativeEvent.layerY\n        circle.classList.add('circle')\n        circle.style.left = `${x}px`\n        circle.style.top = `${y}px`\n        event.target.appendChild(circle);\n    }\n\n    return <div {...props} onClickCapture={e => materializeEffect(e)} className=\"form_button\">{props.label}</div>\n}\n\nexport default Button;","import React, { useState } from 'react';\nimport firebase from \"firebase/app\";\nimport TextInput from '../../UIControls/TextInput/TextInput';\nimport Button from '../../UIControls/Button/Button';\nimport './newUser.css'\nconst NewUser = () => {\n    const [userName, setUserName] = useState('');\n    const [password, setPassword] = useState('');\n\n    const addUser = () => {\n        debugger\n        console.log('rest ')\n        var db = firebase.firestore();\n        db.collection('users').add({\n            name: userName,\n            password\n        }).then((docRef) => {\n            console.log(\"Document written with ID: \", docRef.id);\n        }).catch((error) => {\n            console.error(\"Error adding document: \", error);\n        });\n    }\n\n    return <div>\n        <h1>Register user</h1>\n        <TextInput type='text' placeholder='Name' value={userName} onChange={e => setUserName(e.target.value)} />\n        <TextInput type='text' placeholder='Password' value={password} onChange={e => setPassword(e.target.value)} />\n        <div className='new-user__add__wrapper'>\n            <Button label='Add me' onClick={addUser} />\n        </div>\n        <a href='/' style={{fontSize: '22px', display: 'inline'}}>Back</a>\n    </div>\n}\n\nexport default NewUser;","import React, { useContext } from \"react\";\nimport { UserProfileContext } from \"../../store/userContext\";\n\nconst RouteProtector = props => {\n    const {name: userName} = useContext(UserProfileContext);\n    if (userName) return <>{props.children}</>;\n\n    // return <h1>User not logged in...</h1>\n}\n\nexport default RouteProtector","// import logo from './logo.sv  g';\nimport './App.css';\nimport HomeComponent from './components/home';\nimport { ThemeProvider } from './store/themeContext';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport ChatRoom from './components/chat/';\nimport { UserProfileProvider } from './store/userContext';\nimport Login from './components/login/Login';\nimport NewUser from './components/newUser/newUser';\nimport RouteProtector from './components/login/RouteProtector';\n\nfunction App() {\n  return (\n    <ThemeProvider>\n      <UserProfileProvider>\n        <Login />\n        <Router>\n          <Switch>\n            <Route path=\"/chatRoom\">\n              {/* <RouteProtector> */}\n                <ChatRoom />\n              {/* </RouteProtector> */}\n            </Route>\n            <Route path=\"/newUser\">\n              <NewUser />\n            </Route>\n            <Route path=\"/login\">\n              <RouteProtector> <Login /></RouteProtector>\n            </Route>\n            <Route path=\"/\">\n              <RouteProtector> <HomeComponent /></RouteProtector>\n            </Route>\n          </Switch>\n        </Router>\n      </UserProfileProvider>\n    </ThemeProvider>\n  );\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport firebase from \"firebase/app\";\nimport \"firebase/analytics\";\n\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\n// const firebase = require(\"firebase\");\n// Required for side-effects\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAn3dbtc6VJ7keVicMn1i5ez2s_Jt1qbbE\",\n  authDomain: \"friendlyeats-c47ae.firebaseapp.com\",\n  projectId: \"friendlyeats-c47ae\",\n  storageBucket: \"friendlyeats-c47ae.appspot.com\",\n  messagingSenderId: \"989542196587\",\n  appId: \"1:989542196587:web:63896b071fdfab8d66982e\",\n  measurementId: \"G-6LXZLGGTXT\"\n};\n// firebase\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\nfirebase.analytics();\nfirebase.auth().signInAnonymously().then((res) => console.log('Firebase signed in ', res))\n// var db = firebase.firestore();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}