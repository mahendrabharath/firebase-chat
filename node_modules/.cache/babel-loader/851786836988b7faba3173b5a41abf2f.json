{"ast":null,"code":"var _jsxFileName = \"/System/Volumes/Data/Bharath/React/Chat App/src/components/login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport { UserProfileContext } from '../../store/userContext';\nimport firebase from \"firebase/app\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const {\n    loginStatus,\n    dispatch,\n    name\n  } = useContext(UserProfileContext);\n  const [userID, setuserID] = useState('');\n  const [password, setPassword] = useState('');\n  var db = firebase.firestore();\n\n  const login = () => {\n    db.collection('users').doc(userID).get().then(querySnapshot => {\n      const result = querySnapshot.data(); // setUserList(result);\n\n      console.log('messages list ', result);\n      dispatch({\n        type: 'USER_LOGIN',\n        payload: {\n          name: result.name,\n          loggedInTime: new Date(),\n          userStatus: \"Online\",\n          loginStatus: 'Logged in',\n          userID\n        }\n      });\n    }).catch(err => console.log('Oops ', err));\n  };\n\n  if (!loginStatus) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Enter userID\",\n          value: userID,\n          onChange: e => setuserID(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Enter password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          onKeyPress: e => e.key === 'Enter' && login(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"h3\", {\n    children: name\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Login, \"CiE4dmlH10XyLT97mzHHTGb78bM=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/System/Volumes/Data/Bharath/React/Chat App/src/components/login/Login.js"],"names":["React","useContext","useState","UserProfileContext","firebase","Login","loginStatus","dispatch","name","userID","setuserID","password","setPassword","db","firestore","login","collection","doc","get","then","querySnapshot","result","data","console","log","type","payload","loggedInTime","Date","userStatus","catch","err","e","target","value","key"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,SAASC,kBAAT,QAAmC,yBAAnC;AACA,OAAOC,QAAP,MAAqB,cAArB;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAChB,QAAM;AAAEC,IAAAA,WAAF;AAAeC,IAAAA,QAAf;AAAyBC,IAAAA;AAAzB,MAAkCP,UAAU,CAACE,kBAAD,CAAlD;AACA,QAAM,CAACM,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;AACA,MAAIW,EAAE,GAAGT,QAAQ,CAACU,SAAT,EAAT;;AAEA,QAAMC,KAAK,GAAG,MAAM;AAChBF,IAAAA,EAAE,CAACG,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BR,MAA3B,EAAmCS,GAAnC,GAAyCC,IAAzC,CAA+CC,aAAD,IAAmB;AAC7D,YAAMC,MAAM,GAAGD,aAAa,CAACE,IAAd,EAAf,CAD6D,CAE7D;;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BH,MAA9B;AACAd,MAAAA,QAAQ,CAAC;AACLkB,QAAAA,IAAI,EAAE,YADD;AACeC,QAAAA,OAAO,EAAE;AACzBlB,UAAAA,IAAI,EAAEa,MAAM,CAACb,IADY;AAEzBmB,UAAAA,YAAY,EAAE,IAAIC,IAAJ,EAFW;AAGzBC,UAAAA,UAAU,EAAE,QAHa;AAIzBvB,UAAAA,WAAW,EAAE,WAJY;AAKzBG,UAAAA;AALyB;AADxB,OAAD,CAAR;AASH,KAbD,EAaGqB,KAbH,CAaSC,GAAG,IAAIR,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBO,GAArB,CAbhB;AAcH,GAfD;;AAiBA,MAAI,CAACzB,WAAL,EAAkB;AACd,wBAAO;AAAA,6BACH;AAAA,gCACI;AAAO,UAAA,WAAW,EAAC,cAAnB;AAAkC,UAAA,KAAK,EAAEG,MAAzC;AAAiD,UAAA,QAAQ,EAAEuB,CAAC,IAAItB,SAAS,CAACsB,CAAC,CAACC,MAAF,CAASC,KAAV;AAAzE;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAO,UAAA,WAAW,EAAC,gBAAnB;AAAoC,UAAA,KAAK,EAAEvB,QAA3C;AAAqD,UAAA,QAAQ,EAAEqB,CAAC,IAAIpB,WAAW,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAA/E;AACI,UAAA,UAAU,EAAEF,CAAC,IAAIA,CAAC,CAACG,GAAF,KAAU,OAAV,IAAqBpB,KAAK,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV;AAD/C;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADG;AAAA;AAAA;AAAA;AAAA,YAAP;AAQH;;AAED,sBAAO;AAAA,cAAK1B;AAAL;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,CAnCD;;GAAMH,K;;KAAAA,K;AAqCN,eAAeA,KAAf","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { UserProfileContext } from '../../store/userContext';\nimport firebase from \"firebase/app\";\n\nconst Login = () => {\n    const { loginStatus, dispatch, name } = useContext(UserProfileContext);\n    const [userID, setuserID] = useState('')\n    const [password, setPassword] = useState('')\n    var db = firebase.firestore()\n\n    const login = () => {\n        db.collection('users').doc(userID).get().then((querySnapshot) => {\n            const result = querySnapshot.data();\n            // setUserList(result);\n            console.log('messages list ', result)\n            dispatch({\n                type: 'USER_LOGIN', payload: {\n                    name: result.name,\n                    loggedInTime: new Date(),\n                    userStatus: \"Online\",\n                    loginStatus: 'Logged in',\n                    userID\n                }\n            })\n        }).catch(err => console.log('Oops ', err))\n    }\n\n    if (!loginStatus) {\n        return <div>\n            <div>\n                <input placeholder='Enter userID' value={userID} onChange={e => setuserID(e.target.value)} />\n                <input placeholder='Enter password' value={password} onChange={e => setPassword(e.target.value)}\n                    onKeyPress={e => e.key === 'Enter' && login(e.target.value)}\n                />\n            </div>\n        </div>\n    }\n\n    return <h3>{name}</h3>\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}