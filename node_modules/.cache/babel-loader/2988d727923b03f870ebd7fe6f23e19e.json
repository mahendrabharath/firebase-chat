{"ast":null,"code":"var _jsxFileName = \"/System/Volumes/Data/Bharath/React/Chat App/src/components/login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport { UserProfileContext } from '../../store/userContext';\nimport firebase from \"firebase/app\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const {\n    loginStatus,\n    dispatch,\n    name\n  } = useContext(UserProfileContext);\n  const [userName, setUserName] = useState('');\n  const [password, setPassword] = useState('');\n  var db = firebase.firestore();\n\n  const login = () => {\n    db.collection('users').doc(userName).get().then(querySnapshot => {\n      const result = querySnapshot.docs.map(doc => ({ ...doc.data(),\n        id: doc.id\n      })); // setUserList(result);\n\n      console.log('messages list ', result); // dispatch({\n      //     type: 'USER_LOGIN', payload: {\n      //         name: userName,\n      //         loggedInTime: new Date(),\n      //         userStatus: \"Online\",\n      //         loginStatus: 'Logged in'\n      //     }\n      // })\n    }).catch(err => console.log('Oops ', err));\n  };\n\n  if (!loginStatus) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Enter username\",\n          value: userName,\n          onChange: e => setUserName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Enter password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          onKeyPress: e => e.key === 'Enter' && login(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"h3\", {\n    children: name\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Login, \"JFediU+vi3pLAHIYM7mI/OiSMwA=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/System/Volumes/Data/Bharath/React/Chat App/src/components/login/Login.js"],"names":["React","useContext","useState","UserProfileContext","firebase","Login","loginStatus","dispatch","name","userName","setUserName","password","setPassword","db","firestore","login","collection","doc","get","then","querySnapshot","result","docs","map","data","id","console","log","catch","err","e","target","value","key"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,SAASC,kBAAT,QAAmC,yBAAnC;AACA,OAAOC,QAAP,MAAqB,cAArB;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAChB,QAAM;AAAEC,IAAAA,WAAF;AAAeC,IAAAA,QAAf;AAAyBC,IAAAA;AAAzB,MAAkCP,UAAU,CAACE,kBAAD,CAAlD;AACA,QAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;AACA,MAAIW,EAAE,GAAGT,QAAQ,CAACU,SAAT,EAAT;;AAEA,QAAMC,KAAK,GAAG,MAAM;AAChBF,IAAAA,EAAE,CAACG,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BR,QAA3B,EAAqCS,GAArC,GAA2CC,IAA3C,CAAiDC,aAAD,IAAmB;AAC/D,YAAMC,MAAM,GAAGD,aAAa,CAACE,IAAd,CAAmBC,GAAnB,CAAuBN,GAAG,KAAK,EAAE,GAAGA,GAAG,CAACO,IAAJ,EAAL;AAAiBC,QAAAA,EAAE,EAAER,GAAG,CAACQ;AAAzB,OAAL,CAA1B,CAAf,CAD+D,CAE/D;;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BN,MAA9B,EAH+D,CAI/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,KAZD,EAYGO,KAZH,CAYSC,GAAG,IAAIH,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBE,GAArB,CAZhB;AAaH,GAdD;;AAgBA,MAAI,CAACvB,WAAL,EAAkB;AACd,wBAAO;AAAA,6BACH;AAAA,gCACI;AAAO,UAAA,WAAW,EAAC,gBAAnB;AAAoC,UAAA,KAAK,EAAEG,QAA3C;AAAqD,UAAA,QAAQ,EAAEqB,CAAC,IAAIpB,WAAW,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV;AAA/E;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAO,UAAA,WAAW,EAAC,gBAAnB;AAAoC,UAAA,KAAK,EAAErB,QAA3C;AAAqD,UAAA,QAAQ,EAAEmB,CAAC,IAAIlB,WAAW,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAA/E;AACI,UAAA,UAAU,EAAEF,CAAC,IAAIA,CAAC,CAACG,GAAF,KAAU,OAAV,IAAqBlB,KAAK,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV;AAD/C;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADG;AAAA;AAAA;AAAA;AAAA,YAAP;AAQH;;AAED,sBAAO;AAAA,cAAKxB;AAAL;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,CAlCD;;GAAMH,K;;KAAAA,K;AAoCN,eAAeA,KAAf","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { UserProfileContext } from '../../store/userContext';\nimport firebase from \"firebase/app\";\n\nconst Login = () => {\n    const { loginStatus, dispatch, name } = useContext(UserProfileContext);\n    const [userName, setUserName] = useState('')\n    const [password, setPassword] = useState('')\n    var db = firebase.firestore()\n\n    const login = () => {\n        db.collection('users').doc(userName).get().then((querySnapshot) => {\n            const result = querySnapshot.docs.map(doc => ({ ...doc.data(), id: doc.id }));\n            // setUserList(result);\n            console.log('messages list ', result)\n            // dispatch({\n            //     type: 'USER_LOGIN', payload: {\n            //         name: userName,\n            //         loggedInTime: new Date(),\n            //         userStatus: \"Online\",\n            //         loginStatus: 'Logged in'\n            //     }\n            // })\n        }).catch(err => console.log('Oops ', err))\n    }\n\n    if (!loginStatus) {\n        return <div>\n            <div>\n                <input placeholder='Enter username' value={userName} onChange={e => setUserName(e.target.value)} />\n                <input placeholder='Enter password' value={password} onChange={e => setPassword(e.target.value)}\n                    onKeyPress={e => e.key === 'Enter' && login(e.target.value)}\n                />\n            </div>\n        </div>\n    }\n\n    return <h3>{name}</h3>\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}